<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    #demo{
      width: 20px;
      height: 20px;
      background: red;
    }
  </style>

  <script>
    window.requestAnimationFrame = null;
    window.webkitRequestAnimationFrame = null;
    window.cancelAnimationFrame = null
    window.webkitCancelAnimationFrame = null
  </script>

  <script src="./js/@version/bestime@beta.min.js"></script>
</head>
<body>
<div id="demo"></div>
<button id="stop">点击开始</button>
<script>






;(function(){
  var oTest = document.getElementById('demo')
  var oStop = document.getElementById('stop')
  var width = 20, dir=1, animateID;
  function run () {
    if(width>100) {
      dir = -1
    }else if(width<20) {
      dir = 1
    }
    width += dir
    oTest.style.width = width + 'px'
    animateID = ns.polyfillRequestAnimationFrame(run)
  }

  var doing;

  oStop.onclick = function () {
    if(doing) {
      doing = false
      console.log('停止', animateID)
      ns.polyfillCancelAnimationFrame(animateID)
      this.innerHTML = '点击开始'
    } else {
      doing = true
      this.innerHTML = '点击停止'
      run()
    }
  }  
})();










</script>
</body>
</html>