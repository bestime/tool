/**  
 * 个人工具库. bestime.iife.min.js
 * @QQ 1174295440
 * @author Bestime
 * @see https://github.com/bestime/tool
 * @update 2022-08-25 16:23:38
 */
var bestime=function(e){"use strict";function u(e){return null===e||e===undefined}function o(e){return u(e)?"":String(e)}const c=8192,l=1024*c,a=1024*l,i=(a,["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),f="Array",s=null,$="0",r="false",j="true",d=window,D=Object.prototype.toString,g="Object",J=encodeURIComponent,L="function",p="String",H="Number",h=decodeURIComponent;function v(e){return D.call(e).slice(8,-1)}function m(e){return v(e)===f}function y(e){return v(e)===g}function b(e){try{e=JSON.parse(e)}catch(t){e=undefined}return e}function S(e){return e=y(e)||y(e=b(e))?e:{}}function w(e){return typeof e===L}function P(e){var n=[];function i(e,t){null!=e&&""!==e&&(t=null==(t=w(t)?t():t)?"":t,n[n.length]=J(e)+"="+J(t))}return function o(e,t){var n,r;if(e)switch(v(t)){case f:for(n=0;n<t.length;n++)o(e+"["+("object"==typeof t[n]&&t[n]?n:"")+"]",t[n]);break;case g:for(r in t)o(e+"["+r+"]",t[r]);break;default:i(e,t)}else switch(v(t)){case p:case g:for(r in t)o(r,t[r]);break;case f:for(n=0;n<t.length;n++)i(t[n].name,t[n].value)}}("",e),n.join("&")}function F(e,t){var n=v(e);if(n===H&&(e=String(e),n=p),n!==p)return"";switch(t){case 1:return e.replace(/^[\s\uFEFF\xA0]+/,"");case-1:return e.replace(/[\s\uFEFF\xA0]+$/,"");case 0:case"*":return e.replace(/[\s\uFEFF\xA0]+/g,"");default:return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function B(e){return v(e)===p}function G(e){var t,n=!0;for(t in e)t!==undefined&&(n=!1);return n}function K(e,t,n,r){B(e)?t&&""==F(e,"*")||r(e):null!=e&&(n&&y(e)&&G(e),r(e))}function _(e){return e=m(e)||m(e=b(e))?e:[]}function k(e,t,n){var r;n=null==n?60:n,e()?t():(clearTimeout(r),setTimeout(function(){k(e,t,n)},n))}const n={};const V={id:"id",children:"children"};function E(e){let t=e;if(null==e)t=undefined;else if(r===e)t=!1;else if(j===e)t=!0;else if(B(e)&&/^\d+$/.test(e))t=String(e);else try{t=JSON.parse(e)}catch(n){}return t}function N(e){return(e=Number(e))===Math.abs(Infinity)||isNaN(e)?0:e}const W=[s,s];function Q(e){if(e==s)return W;var r,i=e;return e.replace(/^\[(.*?)\](.*)?/,function(e,t,n){return i=t,r=n,""}),[i,r]}function Y(e){return""===e||/^\d+$/.test(e)}function z(e,t){return u(e)?t:e}function X(e,t){var n=document.createElement("a");n.style.display="none",n.download=t,n.setAttribute("href",e),document.body.appendChild(n),n.click(),n.remove()}function Z(e,t){var n="";if((e=o(e)).length*t<1<<28)for(;1==(1&t)&&(n+=e),0!=(t>>>=1);)e+=e;return n}function q(e,t,n,r){return(e=o(e)).length>(t>>=0)?e:(t-=e.length,n.length<t&&(n+=Z(n,t/n.length)),-1===r?n.slice(0,t)+e:e+n.slice(0,t))}function ee(e,t,n){return q(e,t,n,-1)}function T(e,t,n){return q(e,t,n,1)}function x(e,t){return""!==e?e.split(t):[]}function C(e,t,n){var e=x(e=F(N(e)),"."),r=e[1]||"";return r.length<t&&(r=T(r,t,$),n&&(r=r.replace(/0+$/,""))),t<1||!r?e[0]:e[0]+"."+r.substring(0,t)}function te(e,n,r){var i,o;return r=u(r)?"children":r,function c(e){if(e)for(var t=0;t<e.length;t++){if(o=n(e[t])){i=e[t];break}if(c(e[t][r]),o)break}}(e),i}function I(e,t,n){t=e[t];return""===t?"":ee(n,2,"0")+t}function M(e,t,n){n=!1===n?0:1;return e=Math.random()*(t-e+n)+e,n?Math.floor(e):e}let A={},ne=0,re=document.getElementsByTagName("head")[0];function O(e,n,r,i){const o=[];let c=0;for(let t=0;t<r.length;t++)R(e,n,r[t],function(e){o[t]=e,++c===r.length&&i(...o)})}function R(e,t,n,r){const i=A[n];if(!i)throw"未配置该资源："+n;const o=/^js/.test(n);function c(){i._complete=!0,w(r)&&(o?r(window[i.global]):r())}if(0<i._count)k(function(){return i._complete},c);else if(!i._depenIsLoad&&i.dependencies&&0<i.dependencies.length)i._depenIsLoad=!0,O(e,t+1,i.dependencies,function(){R(e,t,n,c)});else if(!i._syncsIsLoad&&i.syncs&&0<i.syncs.length)i._syncsIsLoad=!0,O(e,t,i.syncs.concat(n),c);else{i._count=i._count?i._count+1:1,i._deeps=e+"."+t;var u=o?"script":"link";{var l=i._deeps,a=re,f=i.url,s=c;let e;"script"===u?(e=document.createElement("script")).src=f:((e=document.createElement("link")).href=f,e.setAttribute("rel","stylesheet")),e.setAttribute("level-id",l),e.onload=e.onerror=s,a.appendChild(e)}}}function t(e,t){("object"==typeof e?O:R)(++ne,1,e,t)}return t.config=function(e){if(!G(A))throw"config is already configured";A=e},t.getConfig=function(){return A},e._Array=_,e._Boolean=function(e){return!0===e||"true"===e||"1"===e||1===e},e._Map=S,e._Number=N,e._String=o,e.changeIndex=function(e,t,n){return(t=(t+n)%(e+=1))<0&&(t+=e),-0===t?0:t},e.clean=function U(e,t,n){if(n=!1!==n,y(e)){var r,i,o={};for(i in e)K(m(r=e[i])||y(r)?U(r,t):r,t,n,function(e){o[i]=e})}else if(m(e)){o=[];for(var c=0,u=e.length;c<u;c++)K(U(e[c],t),t,n,function(e){o.push(e)})}else o=e;return o},e.dataCacheUtil=function(e){n[e]=n[e]||{count:0,complete:!1,data:null};const t=n[e];return t.count++,{isExist:function(){return 1<t.count},set:function(e){t.complete=!0,t.data=JSON.stringify(e)},get:function(e){k(function(){return t.complete},function(){e(JSON.parse(t.data))},100)},logs:n}},e.deepFindItem=te,e.deepFindTreePath=function(e,t,n){n=Object.assign(V,n);const r=[],i=[...e],o=new Set;for(var c=n["children"];i.length;){var u=i[0];if(o.has(u))r.pop(),i.shift();else if(o.add(u),u[c]&&i.unshift(...u[c]),r.push(u),t(u))return r}return null},e.defaultValue=z,e.downloadFileByArrayBuffer=function(e,t){X(window.URL.createObjectURL(new Blob([e])),t)},e.downloadFileByUrl=X,e.fileSize=function(e,t){var n=e;switch(t){case"MB":n=e*l;break;case"KB":n=e*c;break;case"Bytes":n=8*e}var t=C(n/8796093022208,2),r=C(n/a,2),i=C(n/l,2),o=C(n/c,2);return{Bit:n,Bytes:C(n/8,2),KB:o,MB:i,GB:r,TB:t,format:1<=+t?t+" TB":1<=+r?r+" GB":1<=+i?i+" MB":o+" KB"}},e.flatTree=function(e,r){const i=[];return r=z(r,"children"),function o(t){var n;if(m(t))for(let e=0;e<t.length;e++)n=t[e],i.push(n),o(n[r])}(e),i},e.floorFixed=C,e.getCookie=function(e,t){t=t||document.cookie;let r="";return t.replace(new RegExp("(^|;\\s)"+e+"=(.*?)($|(;\\s))"),function(e,t,n){r=E(h(n))}),r},e.getJsFileBaseUrl=function(e){e=e||0;for(var t="/[^/]*",n=document.scripts,r=0;r<e;r++)t+=t;return n[n.length-1].src.replace(new RegExp(t+"$"),"")},e.getRandom=M,e.getRelativePos=function(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,height:e.offsetHeight,width:e.offsetWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight}},e.getStorage=function(e){return E(localStorage.getItem(e))},e.getType=v,e.isArray=m,e.isFunction=w,e.isMap=y,e.isNull=u,e.need=t,e.padEnd=T,e.padStart=ee,e.param=P,e.parseQuery=function(e){var t,c,n,u={};try{t=d.location.href}catch(r){t=""}return(e=B(e)?e:t).replace(/([^=&?/#]*?)=([^=&?/#]*)/g,function(e,t,o){o=E(h(o)),n=h(t),c=!1,""!==n&&(n.replace(/(.*?)(\[.*)/,function(e,t,n){var r=Q(n);c=!0,Y(r[0])?u[t]=_(u[t]):u[t]=S(u[t]),function i(e,t,n){var t=Q(t),r=t[0];Y(r)?(r=N(r),t[1]==s?e.push(n):(/^\[[\D]+\]/.test(t[1])?e[r]=S(e[r]):e[r]=_(e[r]),i(e[r],t[1],n))):t[1]==s?e[r]=n:(/^\[[\D]+\]/.test(t[1])?e[r]=S(e[r]):e[r]=_(e[r]),i(e[r],t[1],n))}(u[t],n,o)}),c||(u[n]=o))}),u},e.prevent=function(e,t,n){e=e||d.event,n=!1!==n,(t=!1!==t)&&d.event?d.event.cancelBubble=!0:e.stopPropagation(),n&&d.event?d.event.returnValue=!1:e.preventDefault()},e.removeCookie=function(e){var t=new Date,e=(t.setTime(t.getTime()-1e7),e+"="+encodeURI("")+";expires="+t.toUTCString());document.cookie=e},e.removeElement=function(e){try{e.parentNode.removeChild(e)}catch(t){}},e.removeStorage=function(e){localStorage.removeItem(e)},e.repeatString=Z,e.roundFixed=function(e,t,n){e=N(e);var r,i=Math.pow(10,t),e=o(Math.round(e*i)/i);return 0<t&&(r=(i=x(e,"."))[0],(i=i[1]||"").length<t&&(i=T(i,t,$),e=(i=n?i.replace(/0+$/,""):i)?r+"."+i:r)),e},e.serverConfig=function(e){let o={};var t,n;for(n in e)t=e[n],o[n]={to:t,reg:new RegExp("^("+n+")(/|$)")};return function(e){let t=!1;var n,r=e;for(n in o){const i=o[n];if(i.reg.test(e)){t=!0,"string"==typeof i.to&&(r=e.replace(i.reg,i.to+"$2"));break}}return t||(console.error('警告：请求地址 "'+e+'" 不在白名单中！'),console.table(o)),r}},e.setCookie=function(e,t,n){t=r=B(r=t)?r:JSON.stringify(r);var r=new Date;r.setTime(r.getTime()+n),document.cookie=e+"="+encodeURI(t)+";path=/;expires="+r.toUTCString()},e.setStorage=function(e,t){localStorage.setItem(e,e=B(e=t)?e:JSON.stringify(e))},e.split=x,e.timeLine=function(e,t){t=t||["年","月","日 ","时","分","秒","毫秒"];for(var n,r=[],i=0;i<e.length;i++){var o,c=[I(t,0,(o=new Date(e[i])).getFullYear()),I(t,1,o.getMonth()+1),I(t,2,o.getDate()),I(t,3,o.getHours()),I(t,4,o.getMinutes()),I(t,5,o.getSeconds()),I(t,6,o.getMilliseconds())];r.push({value:e[i],timestamp:+o,split:[c,(o=c,o=b(o=JSON.stringify(o)))]})}for(r.sort(function(e,t){return e.millisecond-t.millisecond}),i=1;i<r.length;i++){s=f=a=l=u=void 0;for(var u=r[i-1],l=r[i],a=u.split[0],f=l.split[1],s=0;s<a.length&&a[s]===f[s];s++)f[s]=""}for(i=0;i<r.length;i++)(n=r[i]).split=n.split[1],n.label=F(n.split.join(""));return r},e.tree=function(e,t){for(var n,r,i=(t=S(t)).id||"id",o=t.pid||"pid",c=t.children||"children",u=0;u<e.length;u++)(r=e[u])[c]=_(r[c]),(n=te(e,function(e){return null!=e[i]&&e[i]!=r[i]&&e[i]===r[o]},c))&&(n[c]=_(n[c]),n[c].push(r),e.splice(u--,1));return e},e.trim=F,e.urlToGet=function(e,t){e=o(e).replace(/&*$/g,"").replace(/\?*$/,"");var n="";return(n=y(t)||m(t)?P(t):o(t).replace(/^&*/,""))&&(e+=(/\?/.test(e)?"&":"?")+n),e},e.uuid=function(e){e=N(e);let t="";for(let e=0;e<13;e++)t+=M(1,9);t=N(t);var n=(n=+new Date)*M(1,String(n).length)+t;let r=i[M(0,i.length)]+t.toString(32)+n;return r=e?r.substring(0,e):r},e.variableHasValue=k,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=bestime.iife.min.js.map
