/**  
 * bestime.esm.min.js
 * @version 1.0.1
 * @QQ 1174295440
 * @author Bestime
 * @see https://github.com/bestime/tool
 * @update Mon Jul 11 2022 17:59:18 GMT+0800 (中国标准时间)
 */
function serverConfig(e){var t,r,a={};for(r in e)t=e[r],a[r]={to:t,reg:new RegExp("^"+r+"(\\b|$)")};return function(e){var t,r=!1,n=e;for(t in a){var i=a[t];if(i.reg.test(e)){r=!0,"string"==typeof i.to&&(n=e.replace(i.reg,i.to));break}}return r||(console.error('警告：请求地址 "'+e+'" 不在白名单中！'),console.table(a)),n}}function _String(e){return null==e?"":String(e)}var TYPE_ARRAY="Array",_TOSTRING=Object.prototype.toString,TYPE_OBJECT="Object",ENCODE_URI_COMPONENT=encodeURIComponent,_FUNCTION_NAME="function",TYPE_STRING="String",TYPE_NUMBER="Number",DECODE_URI_COMPONENT=decodeURIComponent;function getType(e){return _TOSTRING.call(e).slice(8,-1)}function isArray(e){return getType(e)===TYPE_ARRAY}function isObject(e){return getType(e)===TYPE_OBJECT}function isFunction(e){return typeof e===_FUNCTION_NAME}function param(e){var r=[];function i(e,t){null!=e&&""!==e&&(t=null==(t=isFunction(t)?t():t)?"":t,r[r.length]=ENCODE_URI_COMPONENT(e)+"="+ENCODE_URI_COMPONENT(t))}return function a(e,t){var r,n;if(e)switch(getType(t)){case TYPE_ARRAY:for(r=0;r<t.length;r++)a(e+"["+("object"==typeof t[r]&&t[r]?r:"")+"]",t[r]);break;case TYPE_OBJECT:for(n in t)a(e+"["+n+"]",t[n]);break;default:i(e,t)}else switch(getType(t)){case TYPE_STRING:case TYPE_OBJECT:for(n in t)a(n,t[n]);break;case TYPE_ARRAY:for(r=0;r<t.length;r++)i(t[r].name,t[r].value)}}("",e),r.join("&")}function urlToGet(e,t){e=_String(e).replace(/&*$/g,"").replace(/\?*$/,"");var r="";return(r=isObject(t)||isArray(t)?param(t):_String(t).replace(/^&*/,""))&&(e+=(/\?/.test(e)?"&":"?")+r),e}function trim(e,t){var r=getType(e);if(r===TYPE_NUMBER&&(e=String(e),r=TYPE_STRING),r!==TYPE_STRING)return"";switch(t){case 1:return e.replace(/^[\s\uFEFF\xA0]+/,"");case-1:return e.replace(/[\s\uFEFF\xA0]+$/,"");case 0:case"*":return e.replace(/[\s\uFEFF\xA0]+/g,"");default:return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function isString(e){return getType(e)===TYPE_STRING}function isEmptyMap(e){var t,r=!0;for(t in e)t!==undefined&&(r=!1);return r}function clean(e,t,r){if(r=!1!==r,isObject(e)){var n,i,a={};for(i in e)_filterData(isArray(n=e[i])||isObject(n)?clean(n,t):n,t,r,function(e){a[i]=e})}else if(isArray(e)){a=[];for(var o=0,c=e.length;o<c;o++)_filterData(clean(e[o],t),t,r,function(e){a.push(e)})}else a=e;return a}function _filterData(e,t,r,n){isString(e)?t&&""==trim(e,"*")||n(e):null==e||r&&isEmptyMap(e)||n(e)}function variableHasValue(e,t,r){var n;r=null==r?60:r,e()?t():(clearTimeout(n),setTimeout(function(){variableHasValue(e,t,r)},r))}var _tmp={};function dataCacheUtil(e){_tmp[e]=_tmp[e]||{count:0,complete:!1,data:null};var t=_tmp[e];return t.count++,{isExist:function(){return 1<t.count},set:function(e){t.complete=!0,t.data=JSON.stringify(e)},get:function(e){variableHasValue(function(){return t.complete},function(){e(JSON.parse(t.data))},100)}}}function __spreadArray(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var DEFAULT_CONFIG={id:"id",children:"children",pid:"pid"};function deepFindTreePath(e,t,r){r=Object.assign(DEFAULT_CONFIG,r);for(var n=[],i=__spreadArray([],e,!0),a=new Set,o=r.children;i.length;){var c=i[0];if(a.has(c))n.pop(),i.shift();else if(a.add(c),c[o]&&i.unshift.apply(i,c[o]),n.push(c),t(c))return n}return null}function setObjectToString(e){return e=isString(e)?e:JSON.stringify(e)}function setCookie(e,t,r){t=setObjectToString(t);var n=new Date;n.setTime(n.getTime()+r),document.cookie=e+"="+encodeURI(t)+";path=/;expires="+n.toUTCString()}function getCookie(e,t){t=t||document.cookie;var n="";return t.replace(new RegExp("(^|;\\s)"+e+"=(.*?)($|(;\\s))"),function(e,t,r){return n=DECODE_URI_COMPONENT(r),""}),n}function removeCookie(e){var t=new Date,e=(t.setTime(t.getTime()-1e7),e+"="+encodeURI("")+";expires="+t.toUTCString());document.cookie=e}export{_String,clean,dataCacheUtil,deepFindTreePath,getCookie,getType,isArray,isFunction,isObject,param,removeCookie,serverConfig,setCookie,trim,urlToGet,variableHasValue};
