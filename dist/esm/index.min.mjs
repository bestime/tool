/**
 * 构建同工具使用工具集 => jUtilsBuildTool
 * @update 2024-10-09 12:50:35
 */
import{loadEnv}from"vite";function asyncGeneratorStep(e,n,t,r,o,a,u){try{var i=e[a](u),c=i.value}catch(l){return void t(l)}i.done?n(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(i){return function(){var e=this,u=arguments;return new Promise(function(n,t){var r=i.apply(e,u);function o(e){asyncGeneratorStep(r,n,t,o,a,"next",e)}function a(e){asyncGeneratorStep(r,n,t,o,a,"throw",e)}o(undefined)})}}function vitePluginHtmlTemplate(o){var a,t;return o=o||{},{name:"rollup-plugin-html-template",enforce:"pre",configResolved:function(e){a=loadEnv(e.mode,e.envDir)},transformIndexHtml:{handler:(t=_asyncToGenerator(function*(e,n){n=n.filename;return e=/.html.*$/.test(n)?e.replace(/({%\s*)(.*?)(\s*%})/g,function(e,n,t,r){return o[t]||a[t]}):e}),function(e,n){return t.apply(this,arguments)})}}}var prefix="auto_chunk";function getManualChunks(e){return e.reduce(function(e,n,t){return e[prefix+"_"+t]=n,e},{})}function getDevProxy(e){var n={};return e.forEach(function(t){t.target&&(n[t.name]={target:t.target,changeOrigin:!0,ws:!0,ssl:t.ssl,timeout:t.timeout,rewrite:function(e){var n=new RegExp("^"+t.name);return e.replace(n,"")}})}),n}export{getDevProxy,getManualChunks,vitePluginHtmlTemplate};
