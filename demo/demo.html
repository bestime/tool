<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="../js/bestime.min.js"></script>
    <script src="../js/test.js"></script>

    <script>
      ns.write('style', '../css/bestime.css', true)
      ns.write('script', '../js/update-version.js', true)
    </script>
    <script src="https://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
    <title>测试页面</title>
  </head>

  <body>

    <div style="margin:20px;">
      <div>可输入小数，正负数</div>
      <input style="border:red solid 1px;line-height:24px;width:100%;" placeholder="只能输入数字" id="axmk165a" />
    </div>
    <script>
      document.getElementById('axmk165a').oninput = function () {
        this.value = ns.symbolNumber(this.value)
      }
    </script>



    <style>
      * {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      #test {
        height: 300px;
        background: #fff;
        overflow: auto;
        position: relative;
        width: 600px;
        border: #ddd solid 1px;
        margin: 20px;
      }

      #test li {
        line-height: 40px;
        background: #f9f9f9;
        color: #444;
        margin: 10px;
        border: #ddd solid 1px;
        text-align: center;
      }

      #test li:after {
        content: '';
      }

      #sbgs12 {
        width: 100rem;
        line-height: 2;
        text-align: center;
        background: #f9f9f9;
        color: #999;
        margin: 20px;
        cursor: pointer;
      }

      #sbgs12.active {
        background: red;
        color: #fff;
      }
    </style>

    <a href="http://www.baidu.com" onClick="test02()">点击弹框，右键跳转</a>
    <div id="sbgs12" class="active map array some">鼠标移入<br>切换跟随</div>
    <div id="mouse-01"
      style="transition:0.2s ease-out;width:100px;height:100px;background:rgba(255, 255, 0, 0.7);position:fixed;z-index:100;display:none;">
    </div>
    <div id="mouse-02"
      style="transition:0.3s ease-out;width:130px;height:50px;background:rgba(255, 0, 255, 0.7);position:fixed;z-index:100;display:none;">
    </div>
    <div id="mouse-03"
      style="transition:0.15s ease-out;width:50px;height:130px;background:rgba(0, 255, 255, 0.7);position:fixed;z-index:100;display:none;">
    </div>
    <script>
      function test02(ev) {
        ev = ev || window.event;
        window.event ? window.event.returnValue = false : ev.preventDefault();
        ns.dialog({ msg: '被点击了, 不会跳转' })
      }
    </script>

    <div>
      <button onclick="scrollToBottom01()">滚动到底部</button>
    </div>
    <div id="test">
      <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li id="tartet">6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
        <li>10</li>
        <li>11</li>
        <li>12</li>
      </ul>
    </div>

    <style>
      #test15645 {
        display: inline-block;
        padding: 5px 10px;
        background: red;
        color: #fff;
      }
    </style>
    <div id="test15645"></div>
    <script>
      function wetw(el, msg) {
        el.innerHTML = msg
        var timer = setInterval(function () {
          msg = msg.substring(1) + msg.substr(0, 1)
          el.innerHTML = msg
        }, 150)
      }

      wetw(document.getElementById('test15645'), '欢迎使用XXX示例，这只是测试数据！')
    </script>




    <div class="demo">
      <h1>啊手动阀</h1>
    </div>
    <style>
      .demo {
        text-align: center;
      }

      .demo img {
        display: inline-block;
        vertical-align: middle;
        max-width: 100%;
        margin: 0;
        padding: 0;
      }
    </style>


  </body>


  <script>
    ns.scrollToElement(document.getElementById('tartet'), document.getElementById('test'), function () {
      console.log('完了')
    })

    var mus01, mus02, mus03;
    ns.DomMouse({
      el: document.getElementById('sbgs12'),
      onMouseEnter: function () {
        if (mus01 && mus01.isActive()) {
          mus01.remove()
          mus02.remove()
          mus03.remove()
          ns.removeClass(document.getElementById('sbgs12'), 'active')
        } else {
          ns.addClass(document.getElementById('sbgs12'), 'active')
          openGenSui()
        }
      },
      onMouseLeave: function () {
        console.log('leave')
      }
    })

    function openGenSui() {
      var options = {
        offsetHorizontal: 5,
        offsetVertical: 5
      }
      mus01 = ns.ContainerFollowMouse(document.getElementById('mouse-01'), options)
      mus02 = ns.ContainerFollowMouse(document.getElementById('mouse-02'), options)
      mus03 = ns.ContainerFollowMouse(document.getElementById('mouse-03'), options)
    }

    ns.removeClass(document.getElementById('sbgs12'), 'some')
    ns.onDomRoll(document.getElementById('test'))
    function scrollToBottom01() {
      ns.scrollToBottom(document.getElementById('test'))
    }

    ns.ready(function () {
      // ns.dialog({
      //   msg: '开始卡',
      //   // oFather: document.getElementById('use-main-wrapper'),
      //   zIndexBase: 99999,
      //   closed: function (type) {
      //     // alert(type)
      //   },
      //   startClose: function (next) {
      //     next(false, '关闭失败')
      //   }
      // })
    })
    // 上十字 => 右下，上左，面逆，上右，面顺，右上
    // 鱼头 => 右下，上右，右上，右下，上右右，右上






const user = demo('回复@@@<{"name": "张三"}>@@@:不错')
console.log('user', user)

function demo (str) {
  let item = {};
  str.replace(/(@@@<)(.*?)(>@@@)/, function (g, $1, $2, $3) {
    try { item = JSON.parse($2) } catch (e) {}
  })
  return item
}

  </script>





</html>